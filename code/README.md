# Computation harvesting in road traffic dynamics


## System requirements

* The codes can be run with python 3.7.0 or higher on any operating system.

* We implemented the codes with python 3.7.0 on Mac.

* It is required c++ and g++ for calculation of the Wasserstein distance. 

* No non-standard hardware is required.



## Installation guide

Before setting up the package, users should have Python version 3.7 or higher, and several packages set up from Python 3.7. 
The latest version of python can be downloaded from the official website: https://www.python.org/

The following packages are reqired.
```
pandas: 0.23.4
numpy: 1.15.1
matplotlib: 2.2.3
plotly: 4.9.0
```
We used the packages with the indicated version in the article.

In addition, for installing g++ on Mac, run simply

* brew install gcc

Installing Hombrew is in https://brew.sh/



## Instructions for use the python codes



Run CH algorithm (for drawing the figures in the article) as follows.

Run the codes at the directory ~/code/src:


### Figure 3 (a):

* python plot_heatmap.py


### Figure 3 (b) and Figure 5:

* python run_prediction_day1.py


### Figure 3 (c):

* python plot_heatmap_cross.py


### Figure 3 (d):

* python run_prediction_day1_to_day2.py 


### Figreu 4(a), (b), and (c):

* python plot_attractor.py


### Figure 4 (d) 

is calculated with the files generated by the previous code, namely, ar.csv, reconstruct.csv, and target.csv.

Compare the data by the wasserstein distance, whose code is abilable in

wassersteinCC.zip that has been downloaded from http://folk.ntnu.no/muskulus/menu/software/ (not abailale now).


The description how to run the codes in wassersteinCC.zip is in the wassersteinCC_howto.txt.

You can unzip the zip file and find all files required for the calculation.



### Figure 6(a):

* python run_prediction_partial.py



### Figure 6(b):

* python run_prediction_partial_2.py



### Figure 7 (a):

* python run_prediction_realtime_day1.py


### Figure 7 (b):

* python run_prediction_realtime_day2.py


### Figure 7 (c):


* python run_prediction_realtime_day1+day2.py








# Data resources:

Folder: Data, which includes the time points of passing the intersections on Days 1 and 2 as the csv files.


